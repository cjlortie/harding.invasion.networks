---
title:
author: "cjlortie"
date: "August 2016"
output:
  html_document:
    theme: yeti
    toc: yes
    toc_depth: 3
    toc_float: yes
  pdf_document:
    toc: yes
---
##A set of code for research program on invasion.

###Hypothesis
Management history and invasive plant species restructure community structure and composition in coastal, terrace grasslands.

![](./sampling.jpg)

[cjlortie](http://christopherlortie.info)

###Methods
Two distinct sites - one UC Reserve and one preserve.
Two transects per site for a total of 3 days sampling for invertebrates and vertebrates.
Plant community structure and composition was assessed in one census.
Each transect was 100m in length.  A set of 25 points were selected randomly.
A total 8 animal cams were deployed per transect per day/night.
A total of 6 pollinator cams were deployed per transect per day.
A total of 25 0.5 x 0.5m quadrats were censues for plants.
Phalaris aquatica is common in the UC Reserve.

![](./pa.jpg)

```{r, setup, include=FALSE}
knitr::opts_chunk$set(cache=TRUE)
#library loads ####
library(dplyr)
library(lme4)
library(lattice)
library(latticeExtra)

```
###EDA
```{r, animal trends}

#data
data <-read.csv("data/vertebrates.csv")
str(data) #check dataframe
data$rep.day <-as.factor(data$rep.day)
str(data)

#visualize
hist(data$abundance, main="", xlab="abundance")
bwplot(abundance~rep.day | site, data=data)

hist(data$diversity, main="", xlab="diversity")
bwplot(diversity~rep.day | site, data=data)

library(ggplot2)
qplot(rep.day, abundance, data=data, geom="boxplot", facets = site~.)
qplot(rep.day, diversity, data=data, geom="boxplot", facets = site~.)

#now explore by harding.cover
bwplot(abundance~harding.cover | site, data=data)

plot(abundance~harding.cover, data = data)
abline(lm(abundance~harding.cover, data=data))
#abline(lm(abundance~harding.cover, site=="RM", data=data))
#abline(lm(abundance~harding.cover, site=="FR", data=data)) #no harding

bwplot(diversity~harding.cover | site, data=data)

plot(diversity~harding.cover, data = data)
abline(lm(diversity~harding.cover, data=data))
#abline(lm(diversity~harding.cover, site=="RM", data=data))
#abline(lm(diversity~harding.cover, site=="FR", data=data)) #no harding

```
